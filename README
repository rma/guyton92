This directory contains the following files:

  README                This file.
  Makefile              The Makefile to build a binary of the model.

  src/                  The directory containing the source of the model.
    guyton92            The main module of the Guyton 1992 model.
    params              A module that defines a struct of all model parameters.
    read_params         A module for reading parameter values from files.
    read_vars           A module for reading state variable values from files.
    debug               Basic debugging support (eg, printing the model state).
    utils               Utility functions for performing calculations.

    params.sh           A script to build params.cpp and params.h.
    params.lst          The list of all model parameters.
    default.exp         The default parameter values.

    vars.sh             A script to build vars.cpp and vars.h.
    vars.lst            The list of all model state variables.

    module_renal        The renal portion of the model, in a separate module.
    module_circdyn      The circulatory dynamics portion of the model.
    module_autonom      The autonomic circulation control module.
    module_aldost       The aldosterone module.
    module_angio        The angiotensin module.
    module_anp          The atrial natriuretic peptide (ANP) module.
    module_rbc          The red blood cell (RBC) and viscosity module.
    module_o2deliv      The O2 delivery and blood flow autoregulation module.
    module_volrec       The volume receptors module.
    module_adh          The antidiuretic hormone (ADH) module.
    module_stress       The stress relaxation module.

    Doxyfile            The configuration file for source code documentation.

  build/                The directory containing the compiled binary.
    guyton92.mono       The binary of the monolithic model.
    guyton92.modular    The binary of the modular model.

  doc/                  The directory containing the source code documentation.
    index.html          The main index of the documentation.



The following targets are defined in the Makefile:

  all:     Build the model binaries and documentation (default target).

  model:   Build the model binaries.

  modular: Build the modular model binary.

  mono:    Build the monolithic model binary.

  docs:    Generate documentation of the model source code (using doxygen).

  clean:   Remove temporary files.

  clobber: Remove the model binary in addition to temporary files.



The list of parameter names (params.lst) was generated by the following:

  1. Copy and the initialiser for the parameter array (minus the brackets):

     &a1k, ..., &z19

  2. Save this as a separate file "all_params.txt".

  3. Remove the extra characters and place newlines between each name:

       cat all_params.txt | sed 's/&//g' | sed 's/, /\n/g' > params.lst



The default parameter values (default.exp) were generated by the following:

  1. Insert the following loop into the main() function of the model:

       FILE *fdef_values = fopen("defaults.txt", "w");
       for (int i = 0; i < 219; i++) {
         fprintf(fdef_values, "%e\n", *paramaters[i]);
       }
       fclose(fdef_values);

  2. Run the simulation to generate the file "defaults.txt".

  3. Combine the default values with the list of parameter names:

       paste -d ' ' params.lst defaults.txt > default.exp



There are 578 lines in params.lst and vars.lst, but there are 580 declarations
in the source file. To find the two variables that were not included:

  while read LINE ; do
    if grep -s -q -x $LINE params.lst vars.lst; then
      echo -n;
    else
      echo $LINE;
    fi;
  done < decls.lst

  c
  ra

NOTE: 'c' and 'ra' are not used ANYWHERE in the code!
